server.port=${SERVER_PORT:8080}

# Database connection
spring.datasource.url=${DB_URL}
spring.datasource.driver-class-name=${DB_DRIVER}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:validate}
spring.jpa.properties.hibernate.type.prefer_native_enum=false
spring.jpa.properties.hibernate.type.prefer_native_enum_types=false
spring.jpa.properties.hibernate.format_sql=${JPA_FORMAT_SQL:true}
spring.jpa.properties.hibernate.jdbc.time_zone=${HIBERNATE_JDBC_TIME_ZONE:Asia/Seoul}
spring.jackson.time-zone=${JACKSON_TIME_ZONE:Asia/Seoul}

# Flyway migrations
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# spring.h2.console.enabled=${H2_CONSOLE_ENABLED:true}
# spring.h2.console.path=${H2_CONSOLE_PATH:/h2-console}

# OAuth2 Google (required in deployed env)
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
app.frontend.base-url=${APP_FRONTEND_BASE_URL:http://localhost:3000}
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS:http://localhost:3000,http://127.0.0.1:3000}

# Security / Token
app.token.enc.key = ${APP_TOKEN_ENC_KEY}
app.jwt.secret=${APP_JWT_SECRET:aXODbl6fCZ1fNevh1Hdkzmizu5DVBiPfh5/jOqOFCbU=}
app.jwt.access-ttl-minutes=${APP_JWT_ACCESS_TTL_MINUTES:15}
app.jwt.refresh-ttl-days=${APP_JWT_REFRESH_TTL_DAYS:10}
app.auth.login-next-cookie-ttl-minutes=${APP_AUTH_LOGIN_NEXT_COOKIE_TTL_MINUTES:10}

# Timeline scoring
app.timeline.official-score-boost=${APP_TIMELINE_OFFICIAL_SCORE_BOOST:5}

# Report controls
app.report.cooldown-ms=${APP_REPORT_COOLDOWN_MS:3000}
app.report.rolling-max-diff-days=${APP_REPORT_ROLLING_MAX_DIFF_DAYS:92}

# Chat controls
app.chat.cooldown-ms=${APP_CHAT_COOLDOWN_MS:300}
app.chat.max-message-length=${APP_CHAT_MAX_MESSAGE_LENGTH:300}
app.chat.recent-fetch-max=${APP_CHAT_RECENT_FETCH_MAX:200}
app.chat.profanity.file=${APP_CHAT_PROFANITY_FILE:classpath:profanity-words.txt}

# Scheduler controls (cron + retention)
app.scheduler.report-cleanup-cron=${APP_SCHEDULER_REPORT_CLEANUP_CRON:0 0 12 * * *}
app.scheduler.refresh-token-cleanup-cron=${APP_SCHEDULER_REFRESH_TOKEN_CLEANUP_CRON:0 0 12 * * *}
app.scheduler.refresh-revoked-retention-days=${APP_SCHEDULER_REFRESH_REVOKED_RETENTION_DAYS:1}
app.scheduler.chat-cleanup-cron=${APP_SCHEDULER_CHAT_CLEANUP_CRON:0 0 3 * * *}
app.scheduler.chat-retention-days=${APP_SCHEDULER_CHAT_RETENTION_DAYS:5}
app.scheduler.board-post-retention-days=${APP_SCHEDULER_BOARD_POST_RETENTION_DAYS:30}
app.scheduler.notification-retention-days=${APP_SCHEDULER_NOTIFICATION_RETENTION_DAYS:30}

# Logging
logging.level.com.whennawa=${LOGGING_LEVEL:OFF}
logging.level.org.springframework.boot.context.config=OFF
spring.jpa.show-sql=${JPA_SHOW_SQL:false}

